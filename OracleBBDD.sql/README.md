# Querys de Base de Datos

La base de datos utilizada para este proyecto es **Oracle DataBase 11g Express Edition**.

En esta carpeta del repositorio encontraras las sentencias (o querys) creados y utilizados para este proyecto. 🛸

## Algunas configuraciones

### Configuración del TABLESPACE

```sql
CREATE BIGFILE TABLESPACE TSMUXDB 
    DATAFILE 
        'FS_TSMUXDB' SIZE 734003200 
    BLOCKSIZE 8192 
    
    DEFAULT NOCOMPRESS 
    ONLINE 
    SEGMENT SPACE MANAGEMENT MANUAL 
    EXTENT MANAGEMENT LOCAL AUTOALLOCATE;
```

### Configuración del ROL

````sql
Creación del ROL

-- ROLE SQL
CREATE ROLE "ROL_API" IDENTIFIED BY "123456";

-- ROLES
GRANT "CONNECT" TO "ROL_API" WITH ADMIN OPTION;

-- SYSTEM PRIVILEGES
GRANT DROP ANY TRIGGER TO "ROL_API" WITH ADMIN OPTION;
GRANT DROP ANY SEQUENCE TO "ROL_API" WITH ADMIN OPTION;
GRANT UNDER ANY TABLE TO "ROL_API" WITH ADMIN OPTION;
GRANT CREATE TRIGGER TO "ROL_API" WITH ADMIN OPTION;
GRANT ALTER ANY PROCEDURE TO "ROL_API" WITH ADMIN OPTION;
GRANT CREATE ANY PROCEDURE TO "ROL_API" WITH ADMIN OPTION;
GRANT CREATE ANY SEQUENCE TO "ROL_API" WITH ADMIN OPTION;
GRANT ALTER ANY TABLE TO "ROL_API" WITH ADMIN OPTION;
GRANT SELECT ANY TABLE TO "ROL_API" WITH ADMIN OPTION;
GRANT DELETE ANY TABLE TO "ROL_API" WITH ADMIN OPTION;
GRANT ALTER ANY SEQUENCE TO "ROL_API" WITH ADMIN OPTION;
GRANT CREATE TABLE TO "ROL_API" WITH ADMIN OPTION;
GRANT DROP ANY TABLE TO "ROL_API" WITH ADMIN OPTION;
GRANT SELECT ANY SEQUENCE TO "ROL_API" WITH ADMIN OPTION;
GRANT SELECT ANY TRANSACTION TO "ROL_API" WITH ADMIN OPTION;
GRANT CREATE SEQUENCE TO "ROL_API" WITH ADMIN OPTION;
GRANT COMMENT ANY MINING MODEL TO "ROL_API" WITH ADMIN OPTION;
GRANT UPDATE ANY TABLE TO "ROL_API" WITH ADMIN OPTION;
GRANT ALTER ANY TRIGGER TO "ROL_API" WITH ADMIN OPTION;
GRANT COMMENT ANY TABLE TO "ROL_API" WITH ADMIN OPTION;
GRANT CHANGE NOTIFICATION TO "ROL_API" WITH ADMIN OPTION;
GRANT INSERT ANY TABLE TO "ROL_API" WITH ADMIN OPTION;
GRANT CREATE ANY TRIGGER TO "ROL_API" WITH ADMIN OPTION;
GRANT CREATE ANY TABLE TO "ROL_API" WITH ADMIN OPTION;
GRANT CREATE PROCEDURE TO "ROL_API" WITH ADMIN OPTION;
````

### Configuración del USUARIO

````sql
- USER SQL
CREATE USER "Harry" IDENTIFIED BY "123456"  
DEFAULT TABLESPACE "TSMUXDB"
ENABLE EDITIONS ;

-- QUOTAS
ALTER USER "Harry" QUOTA UNLIMITED ON "TSMUXDB";

-- ROLES
GRANT "ROL_API" TO "Harry" WITH ADMIN OPTION;
GRANT "CONNECT" TO "Harry" WITH ADMIN OPTION;
ALTER USER "Harry" DEFAULT ROLE "ROL_API","CONNECT";
GRANT "DBA" TO "Harry" WITH ADMIN OPTION;
ALTER USER "Harry" DEFAULT ROLE "DBA","ROL_API","CONNECT";
GRANT "AUTHENTICATEDUSER" TO "Harry" WITH ADMIN OPTION;
ALTER USER "Harry" DEFAULT ROLE "DBA","ROL_API","CONNECT";

-- SYSTEM PRIVILEGES
````

### Demás sentencias

El archivo **OracleBBDD-MuxSystem.sql**, es la exportación completa de la base de datos, aquí encontraras las tablas, vistas, secuencias, paquetes y procedimientos almacenados, que se utlizarón.


🚨 ¡Puede que necesites configurar o agregar algo más!, tomate la confianza de agregar, lo que haga falta. ⚠️

## ¡Cositas extras, por si acaso!

Tengo una repositorio de **docker** con la versión de base de datos utilizada [aquí hackrry/oracledb-xe](https://hub.docker.com/repository/docker/hackrry/oracledb-xe).

_El comando seria:_

```docker
docker run --name any-name --shm-size=1g -p 1521:152 -p 8080:8080 -e ORACLE_PWD=any-password -v [:]/u01/app/oracle/oradata hackrry/oracledb-xe:v1
```